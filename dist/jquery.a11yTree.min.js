/*! jquery.a11yTree */
!function(a){function b(b,c){this.element=b,this.options=a.extend({},defaults,c),this._defaults=defaults,this.init()}function c(b){b.find(O).on(D,function(){var b=a(this).parent(z);s(b)?m(b):n(b)})}function d(a){f(a),e(a)}function e(a){a.on(C,function(b){var c=a.find("li:focus");40===b.which?j(c):38===b.which?i(c):39===b.which?h(c):37===b.which&&g(c)})}function f(a){a.find(z).attr(A,B)}function g(a){r(a)?n(a):l(o(a))}function h(a){s(a)?m(a):r(a)&&l(q(a))}function i(a){if(r(a.prev())){var b=a.prev().children(y);l(p(b).focus())}else l(0===a.prev().length?o(a):a.prev())}function j(a){l(k(a)&&r(a)?q(a):0===a.next().length?o(a).next():a.next())}function k(a){return a.hasClass(J)}function l(a){a.focus()}function m(a){a.removeClass(L).addClass(M)}function n(a){a.removeClass(M).addClass(L)}function o(a){return a.parent(y).parent(z)}function p(a){return a.find(" > li:last-child")}function q(a){return a.children(y).find(" > li:nth-child(1)")}function r(a){return a.hasClass(M)}function s(a){return a.hasClass(L)}function t(a){a.addClass(J).addClass(L),a.prepend('<div class="'+N+'" aria-hidden="true"></div>')}function u(a,b){var c=a.children(y);c.length>0?(t(a),v(c,I,b+1)):a.addClass(K)}function v(b,c,d){b.attr(E,c);var e=b.children(z);e.attr(E,H).attr(F,d),e.each(function(){u(a(this),d)})}var w="a11yTree",x="plugin_",y="ul",z="li",A="tabindex",B="0",C="keydown",D="click",E="role",F="aria-level",G="tree",H="treeitem",I="group",J="has-children",K="no-children",L="collapsed",M="expanded",N="toggle",O="."+N;defaults={},b.prototype={init:function(){var b=a(this.element);v(b,G,1),c(b),d(b)}},a.fn[w]=function(c){return this.each(function(){a.data(this,x+w)||a.data(this,x+w,new b(this,c))})}}(jQuery,window,document);