/*! jquery.a11yTree */
!function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},defaults,c),this._defaults=defaults,this.init()}function f(b){b.find(".toggle").on("click",function(){var b=a(this).parent("li");p(b)?j(b):k(b)})}function g(a){a.find("li").attr("tabindex","0"),a.on("keydown",function(b){var c=a.find("li:focus");if(40===b.which)i(h(c)&&o(c)?n(c):0===c.next().length?l(c).next():c.next());else if(38===b.which)if(o(c.prev())){var d=c.prev().children("ul");i(m(d).focus())}else i(0===c.prev().length?l(c):c.prev());else 39===b.which?p(c)?j(c):o(c)&&i(n(c)):37===b.which&&(o(c)?k(c):i(l(c)))})}function h(a){return a.hasClass(B)}function i(a){a.focus()}function j(a){a.removeClass(D).addClass(E)}function k(a){a.removeClass(E).addClass(D)}function l(a){return a.parent("ul").parent("li")}function m(a){return a.find(" > li:last-child")}function n(a){return a.children("ul").find(" > li:nth-child(1)")}function o(a){return a.hasClass(E)}function p(a){return a.hasClass(D)}function q(a){a.addClass(B).addClass(D),a.prepend('<div class="toggle" aria-hidden="true"></div>')}function r(a,b){var c=a.children(u);c.length>0?(q(a),s(c,A,b+1)):a.addClass(C)}function s(b,c,d){b.attr(w,c);var e=b.children(v);e.attr(w,z).attr(x,d),e.each(function(){r(a(this),d)})}var t="a11yTree",u="ul",v="li",w="role",x="aria-level",y="tree",z="treeitem",A="group",B="has-children",C="no-children",D="collapsed",E="expanded";defaults={initShow:!0,buttonShow:d,buttonHide:d},e.prototype={init:function(){var b=a(this.element);s(b,y,1),f(b),g(b)}},a.fn[t]=function(b){return this.each(function(){a.data(this,"plugin_"+t)||a.data(this,"plugin_"+t,new e(this,b))})}}(jQuery,window,document);