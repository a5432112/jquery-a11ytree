/*! jquery.a11yTree */
!function(a){function b(b,c){this.element=b,this.options=a.extend({},defaults,c),this._defaults=defaults,this.init()}function c(b){b.find(M).on(D,function(){var b=a(this).parent(z);p(b)?m(b):n(b)})}function d(a){f(a),e(a)}function e(a){a.on(C,function(b){var c=a.find("li:focus");40===b.which?j(c):38===b.which?i(c):39===b.which?h(c):37===b.which&&g(c)})}function f(a){a.find(z).attr(A,B)}function g(a){o(a)?n(a):l(q(a))}function h(a){p(a)?m(a):o(a)&&l(s(a))}function i(a){if(o(a.prev())){var b=a.prev().children(y);l(r(b).focus())}else l(0===a.prev().length?q(a):a.prev())}function j(a){l(k(a)&&o(a)?s(a):0===a.next().length?q(a).next():a.next())}function k(a){return a.hasClass(J)}function l(a){a.focus()}function m(a){a.attr("aria-expanded","true")}function n(a){a.attr("aria-expanded","false")}function o(a){return"true"===a.attr("aria-expanded")}function p(a){return"false"===a.attr("aria-expanded")}function q(a){return a.parent(y).parent(z)}function r(a){return a.find(" > li:last-child")}function s(a){return a.children(y).find(" > li:nth-child(1)")}function t(a){n(a),a.addClass(J),a.prepend('<div class="'+L+'" aria-hidden="true"></div>')}function u(a,b){var c=a.children(y);c.length>0?(t(a),v(c,I,b+1)):a.addClass(K)}function v(b,c,d){b.attr(E,c);var e=b.children(z);e.attr(E,H).attr(F,d),e.each(function(){u(a(this),d)})}var w="a11yTree",x="plugin_",y="ul",z="li",A="tabindex",B="0",C="keydown",D="click",E="role",F="aria-level",G="tree",H="treeitem",I="group",J="has-children",K="no-children",L="toggle",M="."+L;defaults={},b.prototype={init:function(){var b=a(this.element);v(b,G,1),c(b),d(b)}},a.fn[w]=function(c){return this.each(function(){a.data(this,x+w)||a.data(this,x+w,new b(this,c))})}}(jQuery,window,document);