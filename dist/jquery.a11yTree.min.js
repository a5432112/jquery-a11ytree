/*! jquery.a11yTree */
!function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},defaults,c),this._defaults=defaults,this.init()}function f(b){b.find(".toggle").on("click",function(){var b=a(this);b.parent("li").hasClass(v)?b.parent("li").removeClass(v).addClass(w):b.parent("li").removeClass(w).addClass(v)})}function g(a){a.find("li").attr("tabindex","0"),a.on("keydown",function(b){var c=a.find("li:focus");if(40===b.which)c.hasClass(t)&&c.hasClass(w)?c.children("ul").find(" > li:nth-child(1)").focus():0===c.next().length?c.parent("ul").parent("li").next().focus():c.next().focus();else if(38===b.which)if(h(c.prev())){var d=c.prev().children("ul").children("li").length;c.prev().children("ul").find(" > li:nth-child("+d+")").focus()}else 0===c.prev().length?c.parent("ul").parent("li").focus():c.prev().focus();else 39===b.which?c.hasClass(v)?c.removeClass(v).addClass(w):c.hasClass(w)&&c.children("ul").find(" > li:nth-child(1)").focus():37===b.which&&(c.hasClass(w)?c.removeClass(w).addClass(v):c.hasClass(v)&&c.parent("ul").parent("li").focus())})}function h(a){return a.hasClass(w)}function i(a){a.addClass(t).addClass(v),a.prepend('<div class="toggle" aria-hidden="true"></div>')}function j(a,b){var c=a.children(m);c.length>0?(i(a),k(c,s,b+1)):a.addClass(u)}function k(b,c,d){b.attr(o,c);var e=b.children(n);e.attr(o,r).attr(p,d),e.each(function(){j(a(this),d)})}var l="a11yTree",m="ul",n="li",o="role",p="aria-level",q="tree",r="treeitem",s="group",t="has-children",u="no-children",v="collapsed",w="expanded";defaults={initShow:!0,buttonShow:d,buttonHide:d},e.prototype={init:function(){var b=a(this.element);k(b,q,1),f(b),g(b)}},a.fn[l]=function(b){return this.each(function(){a.data(this,"plugin_"+l)||a.data(this,"plugin_"+l,new e(this,b))})}}(jQuery,window,document);