/*! jquery.a11yTree */
!function(a){function b(b,c){this.element=b,this.options=a.extend({},defaults,c),this._defaults=defaults,this.init()}function c(b){b.find(M).on(B,function(){var b=a(this).parent(x);q(b)?k(b):l(b)})}function d(a){a.find(x).attr(y,z),a.on(A,function(b){var c=a.find("li:focus");40===b.which?h(c):38===b.which?g(c):39===b.which?f(c):37===b.which&&e(c)})}function e(a){p(a)?l(a):j(m(a))}function f(a){q(a)?k(a):p(a)&&j(o(a))}function g(a){if(p(a.prev())){var b=a.prev().children(w);j(n(b).focus())}else j(0===a.prev().length?m(a):a.prev())}function h(a){j(i(a)&&p(a)?o(a):0===a.next().length?m(a).next():a.next())}function i(a){return a.hasClass(H)}function j(a){a.focus()}function k(a){a.removeClass(J).addClass(K)}function l(a){a.removeClass(K).addClass(J)}function m(a){return a.parent(w).parent(x)}function n(a){return a.find(" > li:last-child")}function o(a){return a.children(w).find(" > li:nth-child(1)")}function p(a){return a.hasClass(K)}function q(a){return a.hasClass(J)}function r(a){a.addClass(H).addClass(J),a.prepend('<div class="'+L+'" aria-hidden="true"></div>')}function s(a,b){var c=a.children(w);c.length>0?(r(a),t(c,G,b+1)):a.addClass(I)}function t(b,c,d){b.attr(C,c);var e=b.children(x);e.attr(C,F).attr(D,d),e.each(function(){s(a(this),d)})}var u="a11yTree",v="plugin_",w="ul",x="li",y="tabindex",z="0",A="keydown",B="click",C="role",D="aria-level",E="tree",F="treeitem",G="group",H="has-children",I="no-children",J="collapsed",K="expanded",L="toggle",M="."+L;defaults={},b.prototype={init:function(){var b=a(this.element);t(b,E,1),c(b),d(b)}},a.fn[u]=function(c){return this.each(function(){a.data(this,v+u)||a.data(this,v+u,new b(this,c))})}}(jQuery,window,document);