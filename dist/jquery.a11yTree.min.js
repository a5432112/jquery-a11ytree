/*! jquery.a11yTree */
!function(a){function b(b,c){this.element=b,this.options=a.extend({},defaults,c),this._defaults=defaults,this.init()}function c(b){b.find(".toggle").on("click",function(){var b=a(this).parent("li");q(b)?k(b):l(b)})}function d(a){a.find("li").attr("tabindex","0"),a.on("keydown",function(b){var c=a.find("li:focus");40===b.which?h(c):38===b.which?g(c):39===b.which?f(c):37===b.which&&e(c)})}function e(a){p(a)?l(a):j(m(a))}function f(a){q(a)?k(a):p(a)&&j(o(a))}function g(a){if(p(a.prev())){var b=a.prev().children("ul");j(n(b).focus())}else j(0===a.prev().length?m(a):a.prev())}function h(a){j(i(a)&&p(a)?o(a):0===a.next().length?m(a).next():a.next())}function i(a){return a.hasClass(C)}function j(a){a.focus()}function k(a){a.removeClass(E).addClass(F)}function l(a){a.removeClass(F).addClass(E)}function m(a){return a.parent("ul").parent("li")}function n(a){return a.find(" > li:last-child")}function o(a){return a.children("ul").find(" > li:nth-child(1)")}function p(a){return a.hasClass(F)}function q(a){return a.hasClass(E)}function r(a){a.addClass(C).addClass(E),a.prepend('<div class="toggle" aria-hidden="true"></div>')}function s(a,b){var c=a.children(v);c.length>0?(r(a),t(c,B,b+1)):a.addClass(D)}function t(b,c,d){b.attr(x,c);var e=b.children(w);e.attr(x,A).attr(y,d),e.each(function(){s(a(this),d)})}var u="a11yTree",v="ul",w="li",x="role",y="aria-level",z="tree",A="treeitem",B="group",C="has-children",D="no-children",E="collapsed",F="expanded";defaults={},b.prototype={init:function(){var b=a(this.element);t(b,z,1),c(b),d(b)}},a.fn[u]=function(c){return this.each(function(){a.data(this,"plugin_"+u)||a.data(this,"plugin_"+u,new b(this,c))})}}(jQuery,window,document);